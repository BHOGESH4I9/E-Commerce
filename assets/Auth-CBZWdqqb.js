import{r as a,j as e,w as M,E as P,x as $,d as y,k as H,e as E,y as z,a as O,o as t,B as D}from"./index-DcX999S6.js";import{c as V,a as b,F as X,S as J}from"./index.esm-ChAxVUX8.js";import{u as K}from"./useTimeout-wRBjxU6M.js";const Q={[$]:"showing",[P]:"showing show"},B=a.forwardRef((s,o)=>e.jsx(M,{...s,ref:o,transitionClasses:Q}));B.displayName="ToastFade";const I=a.createContext({onClose(){}}),L=a.forwardRef(({bsPrefix:s,closeLabel:o="Close",closeVariant:i,closeButton:r=!0,className:m,children:d,...p},n)=>{s=y(s,"toast-header");const l=a.useContext(I),f=H(w=>{l==null||l.onClose==null||l.onClose(w)});return e.jsxs("div",{ref:n,...p,className:E(s,m),children:[d,r&&e.jsx(z,{"aria-label":o,variant:i,onClick:f,"data-dismiss":"toast"})]})});L.displayName="ToastHeader";const q=a.forwardRef(({className:s,bsPrefix:o,as:i="div",...r},m)=>(o=y(o,"toast-body"),e.jsx(i,{ref:m,className:E(s,o),...r})));q.displayName="ToastBody";const A=a.forwardRef(({bsPrefix:s,className:o,transition:i=B,show:r=!0,animation:m=!0,delay:d=5e3,autohide:p=!1,onClose:n,onEntered:l,onExit:f,onExiting:w,onEnter:N,onEntering:v,onExited:g,bg:u,...h},C)=>{s=y(s,"toast");const c=a.useRef(d),x=a.useRef(n);a.useEffect(()=>{c.current=d,x.current=n},[d,n]);const j=K(),T=!!(p&&r),S=a.useCallback(()=>{T&&(x.current==null||x.current())},[T]);a.useEffect(()=>{j.set(S,c.current)},[j,S]);const G=a.useMemo(()=>({onClose:n}),[n]),R=!!(i&&m),k=e.jsx("div",{...h,ref:C,className:E(s,o,u&&`bg-${u}`,!R&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return e.jsx(I.Provider,{value:G,children:R&&i?e.jsx(i,{in:r,onEnter:N,onEntering:v,onEntered:l,onExit:f,onExiting:w,onExited:g,unmountOnExit:!0,children:k}):k})});A.displayName="Toast";const F=Object.assign(A,{Body:q,Header:L}),Z=()=>{const[s,o]=a.useState(!1),[i,r]=a.useState(""),[m,d]=a.useState(!1),[p,n]=a.useState(!1),[l,f]=a.useState(!1),w=O(),N={name:"",email:"",password:""},v=V({name:s?b().required("Name is required").min(3,"Min 3 characters"):b(),email:b().email("Invalid email").required("Email is required"),password:b().required("Password is required").min(6,"Password must be at least 6 characters")}),g=(u,{resetForm:h})=>{n(!0),setTimeout(()=>{n(!1),r(s?"Account created successfully!":"Login successful!"),d(!0),h(),setTimeout(()=>{w("/")},1e3)},1e3)};return e.jsxs("div",{className:"auth-wrapper",children:[e.jsxs("div",{className:"auth-card",children:[e.jsx("h3",{className:"text-center mb-4 fw-bold text-meesho",children:s?"Register":"Login"}),e.jsx(X,{initialValues:N,validationSchema:v,onSubmit:g,enableReinitialize:!0,children:({values:u,handleChange:h,handleSubmit:C,errors:c,touched:x,handleBlur:j})=>e.jsxs(t,{onSubmit:C,children:[s&&e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Full Name"}),e.jsx(t.Control,{type:"text",name:"name",value:u.name,onChange:h,onBlur:j,isInvalid:x.name&&!!c.name,placeholder:"Enter name"}),e.jsx(t.Control.Feedback,{type:"invalid",children:c.name})]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"Email"}),e.jsx(t.Control,{type:"email",name:"email",value:u.email,onChange:h,onBlur:j,isInvalid:x.email&&!!c.email,placeholder:"Enter email"}),e.jsx(t.Control.Feedback,{type:"invalid",children:c.email})]}),e.jsxs(t.Group,{className:"mb-2",children:[e.jsx(t.Label,{children:"Password"}),e.jsx(t.Control,{type:l?"text":"password",name:"password",value:u.password,onChange:h,onBlur:j,isInvalid:x.password&&!!c.password,placeholder:"Enter password"}),e.jsx(t.Control.Feedback,{type:"invalid",children:c.password})]}),e.jsx(t.Check,{type:"checkbox",label:"Show Password",className:"mb-3",checked:l,onChange:()=>f(!l)}),e.jsx("div",{className:"d-grid mb-3",children:e.jsx(D,{type:"submit",disabled:p,className:"btn-meesho",children:p?e.jsxs(e.Fragment,{children:[e.jsx(J,{animation:"border",size:"sm",className:"me-2"}),"Please wait..."]}):s?"Create Account":"Login"})})]})}),e.jsxs("p",{className:"text-center",children:[s?"Already have an account?":"Don't have an account?"," ",e.jsx("span",{className:"text-meesho fw-bold",style:{cursor:"pointer"},onClick:()=>o(!s),children:s?"Login":"Register"})]})]}),e.jsx(F,{show:m,delay:3e3,onClose:()=>d(!1),autohide:!0,bg:"success",className:"toast position-fixed bottom-0 end-0 m-4 text-white",children:e.jsx(F.Body,{children:i})})]})};export{Z as default};
