import{u,r as i,a as v,b as N,j as e,F as C,c as b,P as w}from"./index-DcX999S6.js";const y=()=>{const{categories:n,sidebarOpen:o,setSidebarOpen:a,handleCategoryClick:l,selectedCategory:r}=u(),[c,t]=i.useState(""),[m,x]=i.useState([]),[d,f]=i.useState(!1),g=v(),p=N();i.useEffect(()=>{const s=()=>f(window.innerWidth<768);return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),i.useEffect(()=>{const s=n.filter(h=>h.toLowerCase().includes(c.toLowerCase()));x(s)},[c,n]);const j=s=>{l(s),p.pathname!=="/products"&&g("/products"),d&&a(!1)};return e.jsxs("div",{className:"categories-container",children:[d&&e.jsxs("button",{className:`toggle-icon ${o?"active":""}`,onClick:()=>a(!o),children:[e.jsx("span",{className:"icon-wrapper",children:e.jsx(C,{size:20})}),"Categories"]}),(o||!d)&&e.jsxs("div",{className:"sidebar",children:[e.jsx("h3",{className:"sidebar-title",children:"Categories"}),e.jsx("input",{type:"text",placeholder:"Search categories...",value:c,onChange:s=>t(s.target.value),className:"search-input"}),m.map((s,h)=>e.jsx("button",{onClick:()=>j(s),className:`category-btn ${r===s?"active":""}`,children:s.replace(/-/g," ")},h))]})]})},P=()=>{const{products:n,loading:o,selectedCategory:a,searchProducts:l,searchQuery:r}=u(),[c]=b();return i.useEffect(()=>{const t=c.get("search");t&&t!==r?l(t):!t&&a==="Search"&&l("")},[c,l,a,r]),o?e.jsx("div",{className:"d-flex justify-content-center align-items-center mt-5",style:{minHeight:"200px"},children:e.jsxs("div",{className:"dotted-spinner",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})}):e.jsx("div",{className:"container-fluid mt-5",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-2 mb-4 position-relative",children:e.jsx(y,{})}),e.jsxs("div",{className:"col-md-8",children:[e.jsx("h2",{className:"mb-4",children:a==="All"?"All Products":a==="Search"?`Search Results for "${r||"..."}"`:`Category: ${a}`}),e.jsx("div",{className:"row",children:n.length>0?n.map(t=>e.jsx("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mb-4",children:e.jsx(w,{product:t})},t.id)):e.jsx("div",{className:"text-center",children:a==="Search"?`No results found for "${r||""}". Try a different search term or category.`:a==="All"?"No products available.":`No products found in category "${a}".`})})]})]})})};export{P as default};
