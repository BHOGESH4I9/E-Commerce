import{u as h,r as i,a as N,b as v,j as e,F as C,c as b,P as w}from"./index-c8tRdVzQ.js";const y=()=>{const{categories:n,sidebarOpen:o,setSidebarOpen:a,handleCategoryClick:l,selectedCategory:r}=h(),[c,t]=i.useState(""),[m,p]=i.useState([]),[d,x]=i.useState(!1),g=N(),f=v();i.useEffect(()=>{const s=()=>x(window.innerWidth<992);return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),i.useEffect(()=>{const s=n.filter(u=>u.toLowerCase().includes(c.toLowerCase()));p(s)},[c,n]);const j=s=>{l(s),f.pathname!=="/products"&&g("/products"),d&&a(!1)};return e.jsxs("div",{className:"categories-container",children:[d&&e.jsxs("button",{className:`toggle-icon ${o?"active":""}`,onClick:()=>a(!o),children:[e.jsx("span",{className:"icon-wrapper",children:e.jsx(C,{size:20})}),"Categories"]}),(o||!d)&&e.jsxs("div",{className:"sidebar",children:[e.jsx("h3",{className:"sidebar-title",children:"Categories"}),e.jsx("input",{type:"text",placeholder:"Search categories...",value:c,onChange:s=>t(s.target.value),className:"search-input"}),m.map((s,u)=>e.jsx("button",{onClick:()=>j(s),className:`category-btn ${r===s?"active":""}`,children:s.replace(/-/g," ")},u))]})]})},P=()=>{const{products:n,loading:o,selectedCategory:a,searchProducts:l,searchQuery:r}=h(),[c]=b();return i.useEffect(()=>{const t=c.get("search");t&&t!==r?l(t):!t&&a==="Search"&&l("")},[c,l,a,r]),o?e.jsx("div",{className:"d-flex justify-content-center align-items-center mt-5",style:{minHeight:"200px"},children:e.jsxs("div",{className:"dotted-spinner",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})}):e.jsxs("div",{className:"product-page-wrapper mt-5",children:[e.jsx("aside",{className:"product-sidebar",children:e.jsx(y,{})}),e.jsxs("main",{className:"product-grid",children:[e.jsx("h2",{className:"mb-4",children:a==="All"?"All Products":a==="Search"?`Search Results for "${r||"..."}"`:`Category: ${a}`}),e.jsx("div",{className:"product-grid-container",children:n.length>0?n.map(t=>e.jsx("div",{className:"product-grid-item",children:e.jsx(w,{product:t})},t.id)):e.jsx("div",{className:"text-center",children:a==="Search"?`No results found for "${r||""}". Try a different search term or category.`:a==="All"?"No products available.":`No products found in category "${a}".`})})]})]})};export{P as default};
